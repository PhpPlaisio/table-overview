var trans={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ě":"e","ę":"e","ð":"d","ì":"i","í":"i","î":"i","ï":"i","ł":"l","ñ":"n","ń":"n","ň":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ş":"s","š":"s","ý":"y","ÿ":"y","ž":"z","þ":"th","ß":"ss","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ě":"E","Ę":"E","Ð":"D","Ì":"I","Í":"I","Î":"I","Ï":"I","Ł":"L","Ñ":"N","Ń":"N","Ň":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ş":"S","Š":"S","Ý":"Y","Ÿ":"Y","Ž":"Z","Þ":"TH"};function set_to_lower_case_no_accents(d){var e;var a="";var b;for(b=0;b<d.length;b=b+1){e=d.substr(b,1);if(trans[e]){a+=trans[e]}else{a+=e}}return a.toLowerCase()}function SET_OverviewTable(a){var c=this;var b;this.myDebug=true;this.$myTable=a;a.find("thead tr.filter").each(function(){$(this).css("display","table-row")});this.myColumnHandlers=[];var d=0;a.find("thead tr.header").find("th").each(function(f,i){var e;var g;var h;c.myColumnHandlers[d]=null;e=$(i).attr("class");g=e.split(" ");for(b=0;b<g.length;b=b+1){if(g[b].substr(0,10)==="data-type-"){var j=g[b].substr(10);if(SET_OverviewTable.ourColumnTypeHandlers[j]){c.myColumnHandlers[d]=new SET_OverviewTable.ourColumnTypeHandlers[j]()}}}if(!c.myColumnHandlers[d]){c.myColumnHandlers[d]=new SET_NoneColumnTypeHandler()}c.myColumnHandlers[d].initFilter(c,a,f,d);h=$(this).attr("colspan");if(h){d=d+parseFloat(h)}else{d=d+1}})}SET_OverviewTable.benchmark=function(a,b){SET_OverviewTable.log(a+(new Date().getTime()-b.getTime())+"ms")};SET_OverviewTable.log=function(a){if(console!=="undefined"&&console.debug!=="undefined"){console.log(a)}else{alert(a)}};SET_OverviewTable.ourColumnTypeHandlers={};SET_OverviewTable.registerColumnTypeHandler=function(b,a){SET_OverviewTable.ourColumnTypeHandlers[b]=a};SET_OverviewTable.filterTrigger=function(a){a.data.table.filter(a,a.data.element)};SET_OverviewTable.prototype.filter=function(){var c=[];var b;var a;for(a=0;a<this.myColumnHandlers.length;a=a+1){if(this.myColumnHandlers[a]&&this.myColumnHandlers[a].startFilter()){c[a]=this.myColumnHandlers[a]}else{c[a]=null}}if(c.length===0){this.$myTable.children("tbody").children("tr").show();this.$myTable.children("tbody").children("tr:odd").removeClass("odd").addClass("even");this.$myTable.children("tbody").children("tr:even").removeClass("even").addClass("odd")}else{this.$myTable.children("tbody").children("tr").hide();b=0;this.$myTable.children("tbody").children("tr").each(function(){var e;var d=1;var f=$(this);for(e=0;e<c.length;e+=1){if(c[e]&&!c[e].simpleFilter(this.cells[e])){d=0;break}}if(d===1){f.show();b=b+1;if((b%2)===1){f.removeClass("even").addClass("odd")}else{f.removeClass("odd").addClass("even")}}})}};SET_OverviewTable.prototype.getSortInfo=function(b,k,a,c){var j;var f={};var g;var e;var d;var i;var h;j=a.attr("colspan");if(!j||j==="1"){f.infix="-";f.colspan=1;f.offset=0}else{if(j==="2"){if(a.hasClass("sort-1")&&a.hasClass("sort-2")){h=b.pageX-a.offset().left;g=k.find("tbody > tr:visible:first > td:eq("+c+")").outerWidth();e=k.find("tbody > tr:visible:first > td:eq("+(c+1)+")").outerWidth();d=a.outerWidth();i=d-g-e;if(h<((2*g-i)/2)){f.infix="-1-";f.colspan=2;f.offset=0}else{if(h>((2*g+i)/2)){f.infix="-2-";f.colspan=2;f.offset=1}}}else{if(a.hasClass("sort-1")){f.infix="-1-";f.colspan=2;f.offset=0}else{if(a.hasClass("sort-2")){f.infix="-2-";f.colspan=2;f.offset=1}}}}}return f};SET_OverviewTable.prototype.sortSingleColumn=function(n,t,e,l,b){var j;var h=this;var q;var k;var s;var m;var o;var f;var r;var c;var u;var g;var p;if(this.myDebug){f=new Date()}q=this.getSortInfo(n,this.$myTable,t,b);if(!q.infix){return}if(q.colspan===1){m=t}else{if(q.colspan===2){if(q.offset===0){m=t.children("span").first()}else{if(q.offset===1){m=t}}}}if(m.hasClass("sorted-asc")){s=-1}else{s=1}b=b+q.offset;if(this.myDebug){SET_OverviewTable.benchmark("Initialize ",f);r=new Date()}k=this.$myTable.children("tbody").children("tr").get();for(o=0;o<k.length;o=o+1){var d=k[o].cells[b];k[o].sortKey=e.getSortKey(d)}if(this.myDebug){SET_OverviewTable.benchmark("Getting sort keys ",r);c=new Date()}k.sort(function(v,i){return s*e.compareSortKeys(v,i)});if(this.myDebug){SET_OverviewTable.benchmark("Sorting ",c);u=new Date()}var a=this.$myTable.children("tbody")[0];for(o=0;o<k.length;o=o+1){k[o].sortKey=null;a.appendChild(k[o])}if(this.myDebug){SET_OverviewTable.benchmark("Reappend rows ",u);g=new Date()}j=true;this.$myTable.children("tbody").children("tr").each(function(){var i=$(this);if(this.style.display!=="none"){if(j===true){i.removeClass("odd").addClass("even")}else{i.removeClass("even").addClass("odd")}j=!j}});if(this.myDebug){SET_OverviewTable.benchmark("Applying zebra theme ",g);p=new Date()}h.$myTable.children("thead").find("th").removeClass("sorted-asc").removeClass("sorted-desc");h.$myTable.children("thead").find("th > span").removeClass("sorted-asc").removeClass("sorted-desc");if(s===1){m.addClass("sorted-asc")}else{m.addClass("sorted-desc")}if(this.myDebug){SET_OverviewTable.benchmark("Finishing ",p);SET_OverviewTable.benchmark("Total time ",f)}};SET_OverviewTable.prototype.sortMultiColumn=function(b,a,f,e,n){var h;var o=this;var c=[];var s;var m;var r=[];var q=[];var l,g;var d;var p=[];for(l=0;l<n.length;l=l+1){d=n[l];c[l]=this.getSortInfo(b,this.$myTable,a,d);if(!c[l].infix){return}if(c[l].colspan===1){r[l]=a}else{if(c[l].colspan===2){if(c[l].offset===0){r[l]=a.children("span").first()}else{if(c[l].offset===1){r[l]=a}}}}if(r[l].hasClass("sorted-asc")){m=-1}else{m=1}q[l]=d+c.offset}s=this.$myTable.children("tbody").children("tr").get();for(l=0;l<s.length;l=l+1){for(g=0;g<q.length;g=g+1){p[l]=s[l].cells[q[l]]}s[l].sortKey=f.getSortKey(p)}s.sort(function(j,i){return m*f.compareSortKeys(j,i)});var k=this.$myTable.children("tbody")[0];for(l=0;l<s.length;l=l+1){s[l].sortKey=null;k.appendChild(s[l])}h=true;this.$myTable.children("tbody").children("tr").each(function(){var i=$(this);if(this.style.display!=="none"){if(h===true){i.removeClass("odd").addClass("even")}else{i.removeClass("even").addClass("odd")}h=!h}});o.$myTable.children("thead").find("th").removeClass("sorted-asc").removeClass("sorted-desc");o.$myTable.children("thead").find("th > span").removeClass("sorted-asc").removeClass("sorted-desc");if(m===1){r.addClass("sorted-asc")}else{r.addClass("sorted-desc")}};SET_OverviewTable.ourTables=[];SET_OverviewTable.registerTable=function(a){$(a).each(function(){var b=$(this);if(b.is("table")){SET_OverviewTable.ourTables[SET_OverviewTable.ourTables.length]=new SET_OverviewTable(b)}else{b.find("table").each(function(){SET_OverviewTable.ourTables[SET_OverviewTable.ourTables.length]=new SET_OverviewTable($(this))})}})};function SET_NoneColumnTypeHandler(){}SET_NoneColumnTypeHandler.prototype.startFilter=function(){return false};SET_NoneColumnTypeHandler.prototype.initFilter=function(a,c,b,e){var d;d=c.children("thead").find("tr.filter").find("td").eq(b);d.html("");d.width(d.css("width"))};SET_OverviewTable.registerColumnTypeHandler("none",SET_NoneColumnTypeHandler);var columnsIndexList=[];function SET_TextColumnTypeHandler(){this.$myInput=null;this.myFilterValue=null}SET_TextColumnTypeHandler.prototype.startFilter=function(){this.myFilterValue=this.$myInput.val();return(this.myFilterValue!=="")};SET_TextColumnTypeHandler.prototype.simpleFilter=function(b){var a;a=this.extractForFilter(b);return(a.indexOf(this.myFilterValue)!==-1)};SET_TextColumnTypeHandler.prototype.initFilter=function(b,h,d,c){var f=this;var a;var e,g,j;this.$myInput=h.children("thead").find("tr.filter").find("td").eq(d).find("input");this.$myInput.val("");this.$myInput.keyup(function(i){if(i.keyCode===27){f.$myInput.val("")}});this.$myInput.keyup({table:b,element:this.$myInput},SET_OverviewTable.filterTrigger);a=h.children("thead").find("tr.header").find("th").eq(d);if(a.hasClass("sort")||a.hasClass("sort-1")||a.hasClass("sort-2")){a.click(function(i){if(!i.ctrlKey){columnsIndexList=[];columnsIndexList.push(c)}else{j=true;for(e=0;e<columnsIndexList.length;e=e+1){if(columnsIndexList[e]===c){columnsIndexList.splice(e,1);j=false}}if(j===true){columnsIndexList.push(c)}}g=0;for(e=0;e<columnsIndexList.length;e=e+1){if(columnsIndexList[e]!==undefined){g+=1}}if(g===1||g===0){if(g===1){c=columnsIndexList[0]}b.sortSingleColumn(i,a,f,d,c)}else{b.sortMultiColumn(i,a,f,d,columnsIndexList)}})}this.$myInput.width(this.$myInput.closest("td").width()-parseInt(this.$myInput.css("margin-left"),10)-parseInt(this.$myInput.css("border-left-width"),10)-parseInt(this.$myInput.css("border-right-width"),10)-parseInt(this.$myInput.css("margin-right"),10));this.$myInput.css("visibility","visible")};SET_TextColumnTypeHandler.prototype.extractForFilter=function(a){return set_to_lower_case_no_accents($(a).text())};SET_TextColumnTypeHandler.prototype.getSortKey=function(a){return set_to_lower_case_no_accents($(a).text())};SET_TextColumnTypeHandler.prototype.compareSortKeys=function(b,a){if(b.sortKey<a.sortKey){return -1}if(b.sortKey>a.sortKey){return 1}return 0};SET_OverviewTable.registerColumnTypeHandler("text",SET_TextColumnTypeHandler);SET_OverviewTable.registerColumnTypeHandler("email",SET_TextColumnTypeHandler);function SET_NumericColumnTypeHandler(){}SET_NumericColumnTypeHandler.prototype=Object.create(SET_TextColumnTypeHandler.prototype);SET_NumericColumnTypeHandler.constructor=SET_NumericColumnTypeHandler;SET_NumericColumnTypeHandler.prototype.getSortKey=function(b){var a;a=/[\d\.,\-\+]/g;return parseInt(a.exec($(b).text()).replace(",","."),10)};SET_NumericColumnTypeHandler.prototype.compareSortKeys=function(b,a){if(b.sortKey===a.sortKey){return 0}if(b.sortKey===""&&!isNaN(a.sortKey)){return -1}if(a.sortKey===""&&!isNaN(b.sortKey)){return 1}return b.sortKey-a.sortKey};SET_OverviewTable.registerColumnTypeHandler("numeric",SET_NumericColumnTypeHandler);